<%- include("../admin/header") %>

  <main id="main" class="main">

    <div class="pagetitle">
      <h1>All Extra Category </h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/admin/dashboard">Home</a></li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section">

      <div class="col-lg-12">

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">All extra careory data here</h5>

            <div class="header shadow-none p-0 w-100">

              <div class="search-bar">
                <form class="search-form d-flex align-items-center">
                  <input type="text" name="search" placeholder="Search" title="Enter search keyword"
                    value="<%= search %>">
                  <button type="submit" title="Search"><i class="bi bi-search"></i></button>
                </form>
              </div><!-- End Search Bar -->
            </div>

            <!-- Table with stripped rows -->
            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Name</th>
                  <th scope="col">Category</th>
                  <th scope="col">Subcategory</th>
                  <th scope="col">Extracategory</th>
                  <th scope="col">Brand</th>
                  <th scope="col">Type</th>
                  <th scope="col">Single Image</th>
                  <th scope="col">Multiple Image</th>
                  <th scope="col">Status</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody>
                <%var i=1; for(var Data of ProdcutData){ %>
                  <tr>
                    <th scope="row">
                      <%= i %>
                    </th>
                    <td>
                      <%= Data.name %>
                    </td>
                    <td>
                      <%= Data.categoryId.category %>
                    </td>
                    <td>
                      <%= Data.subcategoryId.subcategory %>
                    </td>
                    <td>
                      <%= Data.extracategoryId.extracategory %>
                    </td>
                    <td>
                      <%= Data.brandId.brand %>
                    </td>
                    <td>
                      <%= Data.typeId.type %>
                    </td>
                    <td>
                      <img src="<%= Data.singleProductImg %>" alt="" height="50px">
                    </td>
                    
                    <td id="ProductImg<%= Data.id %>">
                    <% Data.multiProductImg.map((v,i)=>{ %>
                        <div class="d-flex row" >
                          <div class="col-lg-6">
                            <div class="position-relative" style="width: 80px;">
                              <img src="<%= v %>" alt=""  height="50px" width="100%">
                              <i class="ri-close-fill position-absolute" onclick="return removeOneImg('<%= v %>','<%= i %>','<%= Data.id %>')"></i>
                            </div>
                          </div>
                        </div>
                        <% }) %>
                    </td>

                    <% if(Data.isActive==true){%>
                      <td><a href="/admin/product/active/<%= Data.id %>" class="btn btn-success">Active</a></td>
                      <% }else { %>
                        <td><a href="/admin/product/deactive/<%= Data.id %>" class="btn btn-danger">Deactive</a></td>
                        <%}%>
                          <td><a href="/admin/product/delete/<%= Data.id %>"><i
                                class="ri-delete-bin-7-line text-dark"></i></a>
                            | <a href="/admin/product/update/<%= Data.id %>"><i
                                class="ri-edit-2-line text-dark"></i></a></td>
                  </tr>
                  <% i++;} %>
              </tbody>
            </table>
            <!-- End Table with stripped rows -->
            <nav aria-label="Page navigation example ">
              <ul class="pagination justify-content-center">
                <% if(currentPage !=0){ %>

                  <li class="page-item">
                    <a class="page-link text-dark" href="?page=<%= parseInt(currentPage)-1 %>&search=<%= search %>"
                      aria-label="Previous">
                      <span aria-hidden="true">&laquo;</span>
                    </a>
                  </li>
                  <% } %>

                    <li class="page-item"><a class="page-link text-dark"
                        href="?page=<%= currentPage %>&search=<%= search %>">
                        <%= parseInt(currentPage)+1 %>
                      </a></li>
                    <% if(parseInt(currentPage)+1<totalDocumets){ %>

                      <li class="page-item">
                        <a class="page-link text-dark" href="?page=<%= parseInt(currentPage)+1 %>&search=<%= search %>"
                          aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                          <% } %>
                        </a>
                      </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
      </div>
    </section>

  </main><!-- End #main -->

  <%- include("../admin/footer") %>